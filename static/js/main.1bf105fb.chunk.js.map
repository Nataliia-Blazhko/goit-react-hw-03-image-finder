{"version":3,"sources":["components/searchbar/Searchbar.js","components/imagegalleryitem/ImageGalleryItem.js","components/imagegallery/ImageGallery.js","components/button/Button.js","components/modal/Modal.js","apiService.js","components/loader/LoaderSpinner.js","App.js","index.js"],"names":["Searchbar","state","value","className","onSubmit","e","preventDefault","props","searchQuery","type","onChange","setState","target","this","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","onClick","showFullImage","largeImageUrl","src","webformatURL","alt","ImageGallery","list","map","item","openModal","id","largeImageURL","Button","nextPage","Modal","handleKeyDown","event","code","open","clickOverlayHandler","currentTarget","window","addEventListener","removeEventListener","createPortal","fullImage","document","querySelector","apiService","fetchImages","query","page","perPage","a","axios","get","LoaderSpinner","color","height","width","timeout","App","images","isLoading","isModalOpen","fullImageUrl","totalPages","toggleModal","scrollTo","setTimeout","top","documentElement","scrollHeight","behavior","updateImages","prevState","newQuery","then","response","data","hits","totalHits","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1bf105fb.chunk.js","sourcesContent":["import { Component } from \"react\";\n\nexport class Searchbar extends Component {\n  state = {\n    value: \"\",\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={(e)=>{\n          e.preventDefault()\n          this.props.searchQuery(this.state.value)\n        }\n          }>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            onChange={\n              (e)=>{\n                this.setState({value:e.target.value})\n              }\n            }\n            value={this.state.value}\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus={true}\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import { Component } from \"react\";\n\nexport default class ImageGalleryItem extends Component {\n  render() {\n    return (\n      <li className=\"ImageGalleryItem\">\n        <img\n          onClick={this.props.showFullImage(this.props.largeImageUrl)}\n          src={this.props.webformatURL}\n          alt=\"\"\n          className=\"ImageGalleryItem-image\"\n        />\n      </li>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport ImageGalleryItem from \"../imagegalleryitem/ImageGalleryItem\";\n\nexport class ImageGallery extends Component {\n  render() {\n    return (\n      <ul className=\"ImageGallery\">\n        {this.props.list.map((item) => (\n          <ImageGalleryItem\n            showFullImage={this.props.showFullImage}\n            openModal={this.props.openModal}\n            key={item.id}\n            id={item.id}\n            webformatURL={item.webformatURL}\n            largeImageUrl={item.largeImageURL}\n          />\n        ))}\n      </ul>\n    );\n  }\n}\n","import { Component } from \"react\";\n\nexport class Button extends Component {\n  render() {\n    return (\n      <button\n        type=\"button\"\n        className={\"Button\"}\n        onClick={() => {\n          this.props.nextPage();\n        }}\n      >\n        Load more\n      </button>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nexport class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (event) => {\n    if (event.code === \"Escape\") {\n      this.props.open();\n    }\n  };\n\n  clickOverlayHandler = (event) => {\n    if (event.currentTarget === event.target) {\n      this.props.open();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.clickOverlayHandler}>\n        <div className=\"Modal\">\n          <img src={this.props.fullImage} alt=\"\" />\n        </div>\n      </div>,\n      document.querySelector(\"#modal-root\")\n    );\n  }\n}\n","import axios from \"axios\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"21282104-2eb447408a79d7cba0630cd2c\";\n\nconst apiService = {\n  fetchImages: async (query, page, perPage) => {\n    return axios.get(\n      `${BASE_URL}?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=${perPage}&key=${API_KEY}`\n    );\n  },\n};\n\nexport default apiService;\n","import { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nexport default class LoaderSpinner extends Component {\n  render() {\n    return (\n      <div className=\"loader\">\n        <Loader\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000} //3 secs\n          type=\"ThreeDots\"\n        />\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport { Searchbar } from \"./components/searchbar/Searchbar\";\nimport { ImageGallery } from \"./components/imagegallery/ImageGallery\";\nimport { Button } from \"./components/button/Button\";\nimport { Modal } from \"./components/modal/Modal\";\nimport \"./styles.scss\";\nimport apiService from \"./apiService\";\nimport LoaderSpinner from \"./components/loader/LoaderSpinner\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    query: \"\",\n    page: 1,\n    isModalOpen: false,\n    fullImageUrl: \"\",\n    perPage: 12,\n    totalPages: 0,\n  };\n\n  componentDidMount() {\n    this.updateImages(this.state.query, true);\n  }\n\n  toggleModal = () => {\n    this.setState(({ isModalOpen }) => ({\n      isModalOpen: !isModalOpen,\n    }));\n  };\n\n  updateImages(query, newQuery = false) {\n    this.setState(\n      (prevState) => {\n        return {\n          query: query,\n          page: newQuery ? 1 : prevState.page + 1,\n          isLoading: true,\n        };\n      },\n      () => {\n        query\n          ? apiService\n              .fetchImages(query, this.state.page, this.state.perPage)\n              .then((response) => {\n                this.setState((prevState) => {\n                  if (newQuery) {\n                    return {\n                      images: [...response.data.hits],\n                      isLoading: false,\n                      totalPages: response.data.totalHits / this.state.perPage,\n                    };\n                  } else {\n                    return {\n                      images: [...prevState.images, ...response.data.hits],\n                      isLoading: false,\n                    };\n                  }\n                });\n              })\n          : this.setState({ images: [] });\n      }\n    );\n    this.scrollTo();\n  }\n\n  scrollTo = () => {\n    setTimeout(() => {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }, 750);\n  };\n\n  searchQuery = (query) => {\n    this.updateImages(query, true);\n  };\n\n  nextPage = () => {\n    this.updateImages(this.state.query);\n  };\n\n  showFullImage = (fullImage) => () => {\n    this.setState((prevState) => {\n      return {\n        fullImageUrl: fullImage,\n      };\n    });\n    this.toggleModal();\n  };\n\n  render() {\n    return (\n      <>\n        <Searchbar searchQuery={this.searchQuery} />\n        <ImageGallery\n          list={this.state.images}\n          showFullImage={this.showFullImage}\n          openModal={this.toggleModal}\n        />\n        {this.state.isModalOpen && (\n          <Modal open={this.toggleModal} fullImage={this.state.fullImageUrl} />\n        )}\n\n        {this.state.isLoading && this.state.query ? (\n          <LoaderSpinner />\n        ) : (\n          this.state.page <= this.state.totalPages && (\n            <Button nextPage={this.nextPage} />\n          )\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}